import{t as C,n as V,e as Y,f as F,g as D,h as _,j as H,k as B,c as $,a as G,s as J,i as R,d as P,r as Q}from"./Cbwb8Jd8.js";import{L as h,M as I,N as K,h as L,l as U,J as X,ag as Z,ah as ee,g as te,s as j}from"./Cm_u7RMM.js";function g(n){var s;const a=F(n);return(s=a==null?void 0:a.$el)!=null?s:a}const E=_?window:void 0;function se(...n){let s,a,o,e;if(typeof n[0]=="string"||Array.isArray(n[0])?([a,o,e]=n,s=E):[s,a,o,e]=n,!s)return V;Array.isArray(a)||(a=[a]),Array.isArray(o)||(o=[o]);const t=[],r=()=>{t.forEach(d=>d()),t.length=0},i=(d,f,m,w)=>(d.addEventListener(f,m,w),()=>d.removeEventListener(f,m,w)),u=I(()=>[g(s),F(e)],([d,f])=>{if(r(),!d)return;const m=Y(f)?{...f}:f;t.push(...a.flatMap(w=>o.map(A=>i(d,w,A,m))))},{immediate:!0,flush:"post"}),c=()=>{u(),r()};return D(c),c}function ae(){const n=h(!1),s=X();return s&&U(()=>{n.value=!0},s),n}function q(n){const s=ae();return L(()=>(s.value,!!n()))}function ne(n,s={}){const{immediate:a=!0,fpsLimit:o=void 0,window:e=E}=s,t=h(!1),r=o?1e3/o:null;let i=0,u=null;function c(m){if(!t.value||!e)return;i||(i=m);const w=m-i;if(r&&w<r){u=e.requestAnimationFrame(c);return}i=m,n({delta:w,timestamp:m}),u=e.requestAnimationFrame(c)}function d(){!t.value&&e&&(t.value=!0,i=0,u=e.requestAnimationFrame(c))}function f(){t.value=!1,u!=null&&e&&(e.cancelAnimationFrame(u),u=null)}return a&&d(),D(f),{isActive:Z(t),pause:f,resume:d}}function ie(n,s={}){const{window:a=E}=s,o=q(()=>a&&"matchMedia"in a&&typeof a.matchMedia=="function");let e;const t=h(!1),r=c=>{t.value=c.matches},i=()=>{e&&("removeEventListener"in e?e.removeEventListener("change",r):e.removeListener(r))},u=K(()=>{o.value&&(i(),e=a.matchMedia(F(n)),"addEventListener"in e?e.addEventListener("change",r):e.addListener(r),t.value=e.matches)});return D(()=>{u(),i(),e=void 0}),t}function ce(n,s,a={}){const{window:o=E,...e}=a;let t;const r=q(()=>o&&"ResizeObserver"in o),i=()=>{t&&(t.disconnect(),t=void 0)},u=L(()=>Array.isArray(n)?n.map(f=>g(f)):[g(n)]),c=I(u,f=>{if(i(),r.value&&o){t=new ResizeObserver(s);for(const m of f)m&&t.observe(m,e)}},{immediate:!0,flush:"post"}),d=()=>{i(),c()};return D(d),{isSupported:r,stop:d}}function ve(n={}){const{controls:s=!1,offset:a=0,immediate:o=!0,interval:e="requestAnimationFrame",callback:t}=n,r=h(H()+a),i=()=>r.value=H()+a,u=t?()=>{i(),t(r.value)}:i,c=e==="requestAnimationFrame"?ne(u,{immediate:o}):B(u,e,{immediate:o});return s?{timestamp:r,...c}:r}function de(n={}){const{window:s=E,initialWidth:a=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:e=!0,includeScrollbar:t=!0}=n,r=h(a),i=h(o),u=()=>{s&&(t?(r.value=s.innerWidth,i.value=s.innerHeight):(r.value=s.document.documentElement.clientWidth,i.value=s.document.documentElement.clientHeight))};if(u(),C(u),se("resize",u,{passive:!0}),e){const c=ie("(orientation: portrait)");I(c,()=>u())}return{width:r,height:i}}const re=Q,fe=ee("schedule",()=>{const n=$(),s=te(),{blockNames:a,clubs:o,activityDays:e,activitySchedule:t,activityName:r,immersiveName:i,hasSpecialFlex:u,flexBlock:c,specialFlexDay:d,specialFlexName:f,customSpecialFlexName:m,advisoryDay:w,showOneOnOnes:A}=j(n),{time:y}=j(s),z=h(y.value.getDay()===0||y.value.getDay()===6),M=h(!1),N=h(!1),k=h(!1),T=h(""),W=h(0);return{schedule:L(()=>{const S=G(y.value,"dddd");let b={};for(const[p,l]of Object.entries(re[S.value]))p==="Group Advisory/1-on-1s"?w.value?w.value===S.value?b["Group Advisory"]=l:A.value==="Yes"&&(b["Advisor 1-on-1"]=l):b[p]=l:p===c.value&&u.value==="Yes"&&S.value===d.value?b[m.value||f.value]=l:b[p]=l;for(const[p,l]of Object.entries(J)){const v=new Date(p);y.value.toDateString()===v.toDateString()&&(b=l,M.value=!0)}for(const p of R.dates){const l=new Date(p.start),v=new Date(p.end);y.value>=l&&y.value<=v&&(b=R.schedule,k.value=!0)}for(const[p,l]of Object.entries(P)){const v=new Date(l.start),x=new Date(l.end);y.value>=v&&y.value<=x&&(W.value=Math.ceil((x.getTime()-y.value.getTime())/(1e3*3600*24)),T.value=p,N.value=!0,b={})}const O={};for(const[p,l]of Object.entries(b)){let v=p;a.value[v]?v=a.value[v]:v==="Lunch"?o.value[S.value]&&(v=o.value[S.value]):v==="REMOVEImmersive"&&i.value?v=`REMOVE${i.value}`:v==="DELETEImmersive"&&i.value&&(v=`DELETE${i.value}`),O[v]={start:new Date().setHours(l.start.hour,l.start.minute,0,0),end:new Date().setHours(l.end.hour,l.end.minute,0)}}return e.value[S.value]&&N.value===!1&&(O[r.value||"Activities + Sports/Drama"]={start:new Date().setHours(Number(t.value[S.value].start.split(":")[0]),Number(t.value[S.value].start.split(":")[1]),0,0),end:new Date().setHours(Number(t.value[S.value].end.split(":")[0]),Number(t.value[S.value].end.split(":")[1]),0,0)}),O}),isWeekend:z,isSpecialSchedule:M,isBreak:N,isImmersive:k,breakName:T,daysLeft:W}});export{de as a,g as b,ce as c,ve as d,fe as u};
